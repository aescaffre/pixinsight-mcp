{
  "version": 2,
  "name": "New Target HaLRGB",
  "files": {
    "sourceFolder": "",
    "L": "",
    "R": "",
    "G": "",
    "B": "",
    "Ha": "",
    "outputDir": "",
    "targetName": "TargetName"
  },
  "branches": {
    "main": { "label": "RGB", "color": "#4a9eff" },
    "stars": { "label": "Stars", "color": "#f5c542", "forkAfter": "sxt" },
    "ha": { "label": "H-alpha", "color": "#e94560", "forkAfter": "combine_rgb" },
    "lum": { "label": "Luminance", "color": "#c084fc", "forkAfter": "sxt" }
  },
  "steps": [
    { "id": "combine_rgb", "name": "Combine RGB", "branch": "main", "enabled": true, "params": {} },
    { "id": "gc", "name": "GradientCorrection", "branch": "main", "enabled": true, "params": {} },
    { "id": "bxt_correct", "name": "BXT (correctOnly)", "branch": "main", "enabled": true,
      "params": { "sharpenStars": 0.50, "sharpenNonstellar": 0.75, "adjustStarHalos": 0.00 } },
    { "id": "plate_solve", "name": "Plate Solve", "branch": "main", "enabled": true, "params": {} },
    { "id": "spcc", "name": "SPCC", "branch": "main", "enabled": true,
      "params": { "whiteReferenceName": "Average Spiral Galaxy", "sensorQE": "Sony IMX411/455/461/533/571",
                  "filterSet": "Astronomik Deep Sky", "narrowbandMode": false, "generateGraphs": false } },
    { "id": "scnr", "name": "SCNR", "branch": "main", "enabled": true, "params": { "amount": 0.35 } },
    { "id": "bxt_sharpen", "name": "BXT (sharpening)", "branch": "main", "enabled": true,
      "params": { "sharpenStars": 0.25, "sharpenNonstellar": 0.50, "adjustStarHalos": -0.25 } },
    { "id": "nxt_pass1", "name": "NXT Pass 1", "branch": "main", "enabled": true,
      "params": { "denoise": 0.30, "detail": 0.15 } },
    { "id": "sxt", "name": "SXT", "branch": "main", "enabled": true, "params": { "overlap": 0.10 } },
    { "id": "star_stretch", "name": "Star Stretch (Seti Linear)", "branch": "stars", "enabled": true,
      "params": { "starMethod": "linear", "setiMidtone": 0.20, "setiIterations": 5 } },
    { "id": "star_saturate", "name": "Star Saturation", "branch": "stars", "enabled": true,
      "params": { "starSaturationCurve": [[0,0],[0.10,0.55],[0.30,0.80],[0.55,0.95],[1,1]] } },
    { "id": "star_reduce", "name": "Star Reduction", "branch": "stars", "enabled": false,
      "params": { "threshold": 0.10, "erosionSize": 3, "erosionAmount": 0.65, "iterations": 1 } },
    { "id": "ha_sxt", "name": "Ha SXT", "branch": "ha", "enabled": true,
      "params": { "overlap": 0.20 } },
    { "id": "ha_stretch", "name": "Ha Stretch", "branch": "ha", "enabled": true,
      "params": { "targetBg": 0.25 } },
    { "id": "ha_curves", "name": "Ha Curves", "branch": "ha", "enabled": true,
      "params": { "haCurve": [[0,0],[0.15,0.10],[0.50,0.55],[0.85,0.92],[1,1]] } },
    { "id": "ha_ghs", "name": "Ha GHS", "branch": "ha", "enabled": true,
      "params": { "haGHS": { "D": 0.5, "B": -1.0, "LP": 0.02, "HP": 0.95 } } },
    { "id": "ha_linearfit", "name": "Ha LinearFit", "branch": "ha", "enabled": false,
      "params": { "linearFitRejectHigh": 0.92 } },
    { "id": "l_stretch", "name": "L Stretch", "branch": "lum", "enabled": true,
      "params": { "targetBg": 0.25 } },
    { "id": "l_nxt", "name": "L NXT", "branch": "lum", "enabled": true,
      "params": { "denoise": 0.50, "detail": 0.15 } },
    { "id": "l_bxt", "name": "L BXT", "branch": "lum", "enabled": false,
      "params": { "sharpenStars": 0.25, "sharpenNonstellar": 0.50, "adjustStarHalos": 0.00 } },
    { "id": "stretch", "name": "Stretch (HT+GHS)", "branch": "main", "enabled": true,
      "params": { "targetBg": 0.25, "ghsPasses": [
        { "label": "Midtone boost", "D": 0.8, "B": -1.0, "LP": 0.02, "HP": 0.95 },
        { "label": "Fine contrast", "D": 0.5, "B": -1.5, "LP": 0.03, "HP": 0.90 }
      ] } },
    { "id": "nxt_pass2", "name": "NXT Pass 2", "branch": "main", "enabled": true,
      "params": { "denoise": 0.50, "detail": 0.15 } },
    { "id": "curves_main", "name": "Curves", "branch": "main", "enabled": true,
      "params": { "contrastCurve": [[0,0],[0.06,0.02],[0.50,0.55],[0.92,0.97],[1,1]],
                  "saturationCurve": [[0,0],[0.50,0.54],[1,1]] } },
    { "id": "ha_inject", "name": "Ha Injection", "branch": "main", "merges": ["ha"], "enabled": true,
      "params": { "injectionStrength": 0.65, "lumBoost": 0.55, "haThreshold": 0.3, "detailLayer": 0.55,
                  "maskClipLow": 0.04, "method": "conditional", "useMask": true } },
    { "id": "lrgb_combine", "name": "LRGB Combine", "branch": "main", "merges": ["lum"], "enabled": true,
      "params": { "lightness": 0.50, "saturation": 0.50 } },
    { "id": "lhe", "name": "LHE (Local Contrast)", "branch": "main", "enabled": true,
      "params": { "radius": 64, "amount": 0.50, "slopeLimit": 1.8 } },
    { "id": "lhe_fine", "name": "LHE Fine (Micro-contrast)", "branch": "main", "enabled": false,
      "params": { "radius": 24, "amount": 0.50, "slopeLimit": 1.5 } },
    { "id": "hdrmt", "name": "HDR Multiscale", "branch": "main", "enabled": false,
      "params": { "numberOfLayers": 6, "toLightness": true } },
    { "id": "curves_final", "name": "Final Curves", "branch": "main", "enabled": true,
      "params": { "lightnessCurve": [[0,0],[0.12,0.09],[0.50,0.53],[0.88,0.91],[1,1]],
                  "saturationCurve": [[0,0],[0.50,0.52],[1,1]],
                  "channelBoost": { "R": 1.0, "G": 1.0, "B": 1.0 } } },
    { "id": "star_add", "name": "Star Addition", "branch": "main", "merges": ["stars"], "enabled": true,
      "params": { "starStrength": 1.00, "screenBlend": false } }
  ]
}
